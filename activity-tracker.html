<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub-Style Activity Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #f6f8fa;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .title {
            font-size: 24px;
            font-weight: 600;
            color: #24292f;
            margin-bottom: 20px;
            text-align: center;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-group label {
            font-size: 14px;
            font-weight: 500;
            color: #24292f;
        }

        .control-group input {
            padding: 8px 12px;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            font-size: 14px;
            width: 120px;
        }

        .control-group input:focus {
            outline: none;
            border-color: #0969da;
            box-shadow: 0 0 0 3px rgba(9, 105, 218, 0.1);
        }

        .labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
            color: #656d76;
        }

        .activity-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(7, 1fr);
            gap: 2px;
            width: fit-content;
            margin: 0 auto;
            padding: 16px;
            background: #f6f8fa;
            border-radius: 8px;
        }

        .square {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            background-color: #ebedf0;
            border: 1px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .square.active {
            background-color: #ebedf0;
        }

        .square.active.filled {
            background-color: #39d353;
        }

        .square.disabled {
            background-color: #9ba1a6;
            cursor: not-allowed;
        }

        .square:hover:not(.disabled) {
            border-color: #656d76;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-top: 20px;
            font-size: 14px;
            color: #656d76;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-value {
            font-weight: 600;
            color: #24292f;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #ebedf0;
            border-radius: 4px;
            margin-top: 16px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: #39d353;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .error {
            color: #cf222e;
            font-size: 12px;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">GitHub-Style Activity Tracker</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="goalInput">Goal Days:</label>
                <input type="number" id="goalInput" min="1" max="70" value="61" placeholder="1-70">
                <div class="error" id="goalError"></div>
            </div>
            <div class="control-group">
                <label for="completedInput">Completed Days:</label>
                <input type="number" id="completedInput" min="0" value="7" placeholder="0 to goal">
                <div class="error" id="completedError"></div>
            </div>
        </div>

        <div class="labels">
            <span>Goal: <span id="goalLabel">61</span> days</span>
            <span>Completed: <span id="completedLabel">7</span> days</span>
        </div>

        <div class="activity-grid" id="activityGrid">
            <!-- Squares will be generated by JavaScript -->
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="stats">
            <div class="stat">
                <span>Progress:</span>
                <span class="stat-value" id="progressPercent">11.5%</span>
            </div>
            <div class="stat">
                <span>Remaining:</span>
                <span class="stat-value" id="remainingDays">54</span>
            </div>
        </div>
    </div>

    <script>
        class ActivityTracker {
            constructor() {
                this.totalSquares = 70;
                this.rows = 7;
                this.cols = 10;
                this.goal = 61;
                this.completed = 7;
                
                this.init();
            }

            init() {
                this.createGrid();
                this.setupEventListeners();
                this.updateDisplay();
            }

            createGrid() {
                const grid = document.getElementById('activityGrid');
                grid.innerHTML = '';

                for (let i = 0; i < this.totalSquares; i++) {
                    const square = document.createElement('div');
                    square.className = 'square';
                    square.dataset.index = i;
                    square.title = `Day ${i + 1}`;
                    grid.appendChild(square);
                }
            }

            setupEventListeners() {
                const goalInput = document.getElementById('goalInput');
                const completedInput = document.getElementById('completedInput');

                goalInput.addEventListener('input', (e) => {
                    this.handleGoalChange(e.target.value);
                });

                completedInput.addEventListener('input', (e) => {
                    this.handleCompletedChange(e.target.value);
                });

                // Add click handlers for squares
                document.getElementById('activityGrid').addEventListener('click', (e) => {
                    if (e.target.classList.contains('square')) {
                        this.handleSquareClick(e.target);
                    }
                });
            }

            handleGoalChange(value) {
                const goal = parseInt(value);
                const errorElement = document.getElementById('goalError');
                
                if (isNaN(goal) || goal < 1 || goal > 70) {
                    errorElement.textContent = 'Goal must be between 1 and 70';
                    return;
                }
                
                errorElement.textContent = '';
                this.goal = goal;
                
                // Adjust completed if it exceeds new goal
                if (this.completed > goal) {
                    this.completed = goal;
                    document.getElementById('completedInput').value = goal;
                }
                
                this.updateDisplay();
            }

            handleCompletedChange(value) {
                const completed = parseInt(value);
                const errorElement = document.getElementById('completedError');
                
                if (isNaN(completed) || completed < 0) {
                    errorElement.textContent = 'Completed must be 0 or greater';
                    return;
                }
                
                if (completed > this.goal) {
                    errorElement.textContent = `Completed cannot exceed goal (${this.goal})`;
                    return;
                }
                
                errorElement.textContent = '';
                this.completed = completed;
                this.updateDisplay();
            }

            handleSquareClick(square) {
                const index = parseInt(square.dataset.index);
                
                // Only allow clicking on active squares
                if (index >= this.goal) return;
                
                // Toggle the clicked square and adjust completed count
                if (square.classList.contains('filled')) {
                    // Unfill this square and all squares after it
                    this.completed = index;
                } else {
                    // Fill this square and all squares before it
                    this.completed = index + 1;
                }
                
                document.getElementById('completedInput').value = this.completed;
                this.updateDisplay();
            }

            updateDisplay() {
                // Update labels
                document.getElementById('goalLabel').textContent = this.goal;
                document.getElementById('completedLabel').textContent = this.completed;
                
                // Update squares
                const squares = document.querySelectorAll('.square');
                squares.forEach((square, index) => {
                    square.className = 'square';
                    
                    if (index < this.goal) {
                        // Active square
                        square.classList.add('active');
                        if (index < this.completed) {
                            square.classList.add('filled');
                        }
                    } else {
                        // Disabled square
                        square.classList.add('disabled');
                    }
                });
                
                // Update progress bar
                const progressPercent = this.goal > 0 ? (this.completed / this.goal) * 100 : 0;
                document.getElementById('progressFill').style.width = `${progressPercent}%`;
                
                // Update stats
                document.getElementById('progressPercent').textContent = `${progressPercent.toFixed(1)}%`;
                document.getElementById('remainingDays').textContent = Math.max(0, this.goal - this.completed);
            }
        }

        // Initialize the tracker when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new ActivityTracker();
        });
    </script>
</body>
</html>
